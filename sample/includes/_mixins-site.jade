mixin menulist(args)
  //- copied (almost) directly from ../../lib/includes/_mixins-lib.jade
  - var structure = args.structure || {}
  - var class_obj = args.class_obj || {}
  - var depth     = +args.depth
  ul(class=class_obj.listclasses)
    each value in structure
      li(class=class_obj.itemclasses)
        a(class=class_obj.linkclasses href=value.href)
          if value.icon && args.icons
            i.material-icons= value.icon.content
          span= value.name
        if value.sub && depth > 0
          - class_obj.sub = class_obj.sub || {}
          +menulist({structure: value.sub, class_obj: class_obj.sub, depth: depth-1})

mixin actionchoices(items, classes, list_attr)
  - list_attr = list_attr || {}
  ul.o-ListBare.o-GridFlex.o-ListAction&attributes(list_attr)
    each obj in items
      - obj.attr = obj.attr || {}
      li.o-GridFlex__Item.o-ListAction__Item
        a(class=classes href=obj.href)&attributes(obj.attr)
          = obj.text
          block

mixin pass(type, body_period)
  article.c-Pass
    mixin period-details(regperiod, is_body)
      h1.c-Pass__Period__Hn= regperiod.name
      dl
        each attendee in regperiod.membership
          dt.c-Pass__Period__Attendee= attendee.name
          dd.c-Pass__Period__Price(class=(is_body && attendee.is_featured)?'c-Pass__Price--featured':'')
            = attendee.price.toLocaleString('en', {style:'currency', currency:'USD'})
    header.c-Pass__Head
      h1.c-Pass__Hn= type.name
      p.c-Pass__Desc
        = type.description
        if type.fineprint
          br
          small.c-Pass__Fine!= type.fineprint
    div.c-Pass__Body
      section.c-Pass__Period
        if type.period[body_period]
          +period-details(type.period[body_period], true)
    footer.o-GridFlex.c-Pass__Foot
      each regperiod in type.period
        unless regperiod === type.period[body_period]
          section.o-GridFlex__Item.-w-1o2.c-Pass__Period
            +period-details(regperiod)

mixin programAgenda(events, index, show_all)
  - var date = events[0].startDate
  input.c-Program__Check(id='date'+index type="radio" name="program" value=date.toISOString().slice(0,10))&attributes((index===0) ? {checked:''} : {})
  h1.o-GridFlex__Item.c-Program__Hn: label(for='date'+index): time(datetime=date.toISOString().slice(0,10))
    = day_names[date.getUTCDay()] + ','
    br
    = month_names[date.getUTCMonth()].slice(0,3) + ' ' + date.getUTCDate()
  dl.o-GridFlex__Item.o-GridFlex.c-Program__Schedule.c-TimeBlock
    each event0 in events
      if show_all || event0.starred
        dt.o-GridFlex__Item.c-TimeBlock__Times
          time(datetime=event0.startDate.toISOString())= hourTime12(event0.startDate)
          | &ndash;
          time(datetime=event0.endDate.toISOString())= hourTime12(event0.endDate)
        dd.o-GridFlex__Item.c-TimeBlock__Desc
          if event0.href || event0.href === ''
            a.o-Block.c-TimeBlock__Link(href=event0.href)
              = event0.name
              i.material-icons arrow_forward
          else
            = event0.name

mixin speaker()
  article.c-Speaker
    div.c-Speaker__Img(style="background-image:url('img/headshot1.jpg');")
      header.c-Speaker__Head
        h1.c-Speaker__Name Donna Fulman, P.ASCE
        p.c-Speaker__JobTitle Interior Engineering Administration
    div.c-Speaker__Body
      div.c-Speaker__Bio.minimal-text
        p Tobias van Schneider is an award-winning, German designer raised in Austria and currently living in New York City.
        p Former Lead Product Designer and Art Director at Spotify, he recently founded Semplice and at the same time serves on the AIGA Board of Directors in New York.
      footer: ul.o-ListBare
        li.o-Inline: a.c-Speaker__Link(href="") Email
        li.o-Inline: a.c-Speaker__Link(href="") LinkedIn
        li.o-Inline: a.c-Speaker__Link(href="") Twitter

mixin minimal-text-block()
  div.o-Runner.o-Runner--highlight.minimal-text: div.o-ContentWrapper
    p.
      Join civil engineering professionals from around the world at
      this ASCE flagship event. Network with peers, earn PDHs, and
      expand your knowledge base.
    p #[a(href="") Lorem ipsum dolor sit amet], consectetur adipiscing elit. Aenean euismod bibendum laoreet. Proin gravida dolor sit amet lacus accumsan et viverra justo commodo. Proin sodales pulvinar tempor. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam fermentum, nulla luctus pharetra vulputate, felis tellus mollis orci, sed rhoncus sapien nunc eget odio.
    ul
      li 3&frac12; days of premier educational and networking events
      li 15 tracks and 6 plenary sessions focusing on ...
      li Prestigious awards and keynote lecture presentations
      li Lively programs for studdnts and young professionals

mixin rich-text-block()
  div.o-Runner.o-Runner--highlight.rich-text: div.o-ContentWrapper
    h2 a heading
    p #[a(href="") Lorem ipsum dolor sit amet], consectetur adipiscing elit. Aenean euismod bibendum laoreet. Proin gravida dolor sit amet lacus accumsan et viverra justo commodo. Proin sodales pulvinar tempor. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam fermentum, nulla luctus pharetra vulputate, felis tellus mollis orci, sed rhoncus sapien nunc eget odio.
    h3 another heading
    blockquote #[a(href="") Aenean euismod bibendum laoreet]. Proin gravida dolor sit amet lacus accumsan et viverra justo commodo. Proin sodales pulvinar tempor. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam fermentum, nulla luctus pharetra vulputate, felis tellus mollis orci.
    ul
      li 3&frac12; days of premier educational and networking events
      li 15 tracks and 6 plenary sessions focusing on ...
      li Prestigious awards and keynote lecture presentations
      li Lively programs for studdnts and young professionals
    h2 a heading
    p Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean euismod bibendum laoreet. Proin gravida dolor sit amet lacus accumsan et viverra justo commodo. Proin sodales pulvinar tempor. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam fermentum, nulla luctus pharetra vulputate, felis tellus mollis orci, sed rhoncus sapien nunc eget odio.
    h3 another heading
    blockquote Aenean euismod bibendum laoreet. Proin gravida dolor sit amet lacus accumsan et viverra justo commodo. Proin sodales pulvinar tempor. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam fermentum, nulla luctus pharetra vulputate, felis tellus mollis orci.
