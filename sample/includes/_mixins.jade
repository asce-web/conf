include ../../lib/includes/_mixins.jade

mixin actionbuttons(arr, classes)
  ul.o-ListBare.o-GridFlex.-xjc-sa.-ta-c
    each obj in arr
      - obj.attr = obj.attr || {}
      li.o-GridFlex__Item.-w-a-sM
        a(class=classes href=obj.href)&attributes(obj.attr)= obj.text

mixin hero-content(event0)
  - event0 = event0 || {}
  h1.c-PageTitle.c-Hero__Name(itemprop="name")= event0.name
  p.c-Hero__Detail
    span.c-Hero__Place(itemprop="location" itemscope="" itemtype="http://schema.org/PostalAddress")
      span(itemprop="name")
        span(itemprop="addressLocality")= event0.addressLocality + ', '
        if event0.addressRegion.name && event0.addressRegion.abbr
          abbr(itemprop="addressRegion" title=event0.addressRegion.name)= event0.addressRegion.abbr
        else
          span(itemprop="addressRegion")= event0.addressRegion
    span.c-Hero__Dates
      time(datetime=event0.startDate.toISOString().slice(0,10) itemprop="startDate")
        = month_names[event0.startDate.getUTCMonth()].slice(0,3) + ' ' + event0.startDate.getUTCDate()
      | &ndash;
      time(datetime=event0.endDate.toISOString().slice(0,10) itemprop="endDate")
        = month_names[event0.endDate.getUTCMonth()].slice(0,3) + ' ' + event0.endDate.getUTCDate()
  p.c-Hero__Theme(itemprop="description")
    if event0.theme
      = event0.theme
    else
      | &nbsp;

mixin otheryear-content(event0)
  - event0 = event0 || {}
  h1.c-OtherYear__Name(itemprop="name")= event0.name
  meta(content=event0.startDate.toString().slice(0,10) itemprop="startDate")
  p.c-OtherYear__Detail(itemprop="location" itemscope="" itemtype="http://schema.org/PostalAddress")
    span(itemprop="name")
      span(itemprop="addressLocality")= event0.addressLocality + ', '
        if event0.addressRegion.name && event0.addressRegion.abbr
          abbr(itemprop="addressRegion" title=event0.addressRegion.name)= event0.addressRegion.abbr
        else
          span(itemprop="addressRegion")= event0.addressRegion

mixin important-date-content()
  h1 Important Dates
  dl.c-DateBlock
    mixin row(event0)
      dt.c-DateBlock__Date
        time(datetime=event0.date.toISOString().slice(0,10))
          = month_names[event0.date.getUTCMonth()].slice(0,3) + ' ' + event0.date.getUTCDate() + ', ' + event0.date.getFullYear()
      dd.c-DateBlock__Desc
        if event0.href || event0.href === ''
          a.o-Block.c-DateBlock__Link(href=event0.href)
            = event0.name
            i.material-icons arrow_forward
        else
          = event0.name
    +row({date:new Date('2015-10-12'), name:'Optional Final Papers Due'})
    +row({date:new Date('2015-12-17'), name:'Early-Bird Registration Closes', href:'registration.html'})
    +row({date:new Date('2016-01-12'), name:'Advance Registration Closes', href:'registration.html'})
    +row({date:new Date('2016-06-12'), name:'Convention Begins'})

mixin pass(type, body_period)
  article.c-Pass
    mixin period-details(regperiod, is_body)
      h1.c-Pass__Period__Hn= regperiod.name
      dl
        each attendee in regperiod.membership
          dt.c-Pass__Period__Attendee= attendee.name
          dd.c-Pass__Period__Price(class=(is_body && attendee.is_featured)?'c-Pass__Price--featured':'')
            = attendee.price.toLocaleString('en', {style:'currency', currency:'USD'})
    header.c-Pass__Head
      h1.c-Pass__Hn= type.name
      p.c-Pass__Desc
        = type.description
        if type.fineprint
          br
          small.c-Pass__Fine!= type.fineprint
    div.c-Pass__Body
      section.c-Pass__Period
        if type.period[body_period]
          +period-details(type.period[body_period], true)
    footer.o-GridFlex.c-Pass__Foot
      each regperiod in type.period
        unless regperiod === type.period[body_period]
          section.o-GridFlex__Item.-w-1o2.c-Pass__Period
            +period-details(regperiod)

mixin registration-content()
  h1 Registration
  ul.o-ListBare.o-GridFlex.o-ListStacked
    - var thisperiod = 'advance'
    li.o-GridFlex__Item.o-ListStacked__Item: +pass(pass.student , thisperiod)
    li.o-GridFlex__Item.o-ListStacked__Item: +pass(pass.standard, thisperiod)
    li.o-GridFlex__Item.o-ListStacked__Item: +pass(pass.ym      , thisperiod)
  +actionbuttons([{text:'Registration Details', href:'registration.html'}], 'c-Btn c-Btn--hilite')

mixin programAgenda(events, index, show_all)
  - var date = events[0].startDate
  input.c-Program__Check(id='date'+index type="radio" name="program" value=date.toISOString().slice(0,10))&attributes((index===0) ? {checked:''} : {})
  h1.o-GridFlex__Item.c-Program__Hn: label(for='date'+index): time(datetime=date.toISOString().slice(0,10))
    = day_names[date.getUTCDay()] + ','
    br
    = month_names[date.getUTCMonth()].slice(0,3) + ' ' + date.getUTCDate()
  dl.o-GridFlex__Item.o-GridFlex.c-Program__Schedule.c-TimeBlock
    each event0 in events
      if show_all || event0.starred
        dt.o-GridFlex__Item.c-TimeBlock__Times
          time(datetime=event0.startDate.toISOString())= hourTime12(event0.startDate)
          | &ndash;
          time(datetime=event0.endDate.toISOString())= hourTime12(event0.endDate)
        dd.o-GridFlex__Item.c-TimeBlock__Desc
          if event0.href || event0.href === ''
            a.o-Block.c-TimeBlock__Link(href=event0.href)
              = event0.name
              i.material-icons arrow_forward
          else
            = event0.name

mixin program-content()
  h1 Program Highlights
  section.o-GridFlex.c-Overlay.c-Program
    each events, index in program_events
      +programAgenda(events, index, false)
  +actionbuttons([{text:'Full Program', href:'program.html'}], 'c-Btn c-Btn--hilite')

mixin speaker()
  article.c-Speaker
    div.c-Speaker__Img(style="background-image:url('img/headshot1.jpg');")
      header.c-Speaker__Head
        h1.c-Speaker__Name Donna Fulman, P.ASCE
        p.c-Speaker__JobTitle Interior Engineering Administration
    div.c-Speaker__Body
      div.c-Speaker__Bio.minimal-text
        p Tobias van Schneider is an award-winning, German designer raised in Austria and currently living in New York City.
        p Former Lead Product Designer and Art Director at Spotify, he recently founded Semplice and at the same time serves on the AIGA Board of Directors in New York.
      footer: ul.o-ListBare
        li.o-Inline: a.c-Speaker__Link(href="") Email
        li.o-Inline: a.c-Speaker__Link(href="") LinkedIn
        li.o-Inline: a.c-Speaker__Link(href="") Twitter

mixin speakers-content()
  h1 Speakers
  ul.o-ListBare.o-GridFlex.o-ListStacked
    li.o-GridFlex__Item.o-ListStacked__Item: +speaker()
    li.o-GridFlex__Item.o-ListStacked__Item: +speaker()
    li.o-GridFlex__Item.o-ListStacked__Item: +speaker()
  +actionbuttons([{text:'All Speakers', href:'speakers.html'}], 'c-Btn c-Btn--hilite')

mixin cochairs-content()
  h1 Conference Co-Chairs
  ul.o-ListBare
    li #[b Thomas J. McCollough], P.E., M.ASCE
    li #[b Stephen E. Dickenson], Ph.D., P.E., D.PE, M.ASCE

mixin mobile-content()
  h1 Plan, Engage, Connect
  p.-ta-c Enhance your conference experience with our mobile app.
  +actionbuttons([{text:'Download Mobile App', href:''}], 'c-Btn c-Btn--hilite')

mixin location-content(heading)
  //- heading is moved into inner div
  div.c-Overlay
    h1= heading
    p With sweeping views of the surrounding mountains and a bustling downtown full of shopping, locally sourced dining, and entertainment, Portland is a wonderful destination for business and leisure.
    +actionbuttons([{text:'Hotel & Travel', href:'location.html'}], 'c-Btn c-Btn--hilite c-Btn--hero')

mixin social-content()
  h1 Join the Conversation
  p.-ta-c Follow ASCE on social media for real-time conversation.
  // p: mark.
    #[strong Note:]
    Each social icon will be a white logo inside a transparent circle, all in
    a white "circle-in-square" thing.
    #[code background-color] will be dark gray, and secondary color on hover.
    (Use conference color scheme.)
  // p: mark.
    #[strong Question:] size of logos? how far spaced apart?
  ul.o-ListBare.o-GridFlex.c-SocialList
    li.o-GridFlex__Item.c-SocialList__Item
      a.o-Block.c-SocialList__Link.c-SocialList__Link--twitter(href="" title="Follow #ASCE2016 on Twitter")
    li.o-GridFlex__Item.c-SocialList__Item
      a.o-Block.c-SocialList__Link.c-SocialList__Link--google(href="" title="Follow #ASCE2016 on Google+")
    li.o-GridFlex__Item.c-SocialList__Item
      a.o-Block.c-SocialList__Link.c-SocialList__Link--facebook(href="" title="Follow #ASCE2016 on Facebook")

mixin contact-content()
  form
    label
      | name
      input(type="text")
    label
      | email
      input(type="email")
    label
      | message
      textarea
    button submit

mixin sponsor-content()
  mixin sponsor-carousel(spons)
    div.c-SponsorBlock: ul.o-ListBare.o-GridFlex.o-ListStacked
      each item in spons
        li.o-GridFlex__Item.o-ListStacked__Item
          a.o-Block.c-SponsorBlock__Logo.c-SponsorBlock__Logo--lrg(href=item.href style='background-image: url(\'' + item.src + '\');')= item.name
          small.c-SponsorBlock__Label= item.level.name
  +sponsor-carousel([sponsor.asce_foundation, sponsor.bentley, sponsor.pennoni])
  +actionbuttons([{text:'All Sponsors', href:'sponsor.html'}], 'c-Btn c-Btn--hilite')

mixin sponsor-content-full()
  mixin sponsor-block(level, classes, spons)
    //- TODO: remove `spons` param and get them from `level`
    section.c-SponsorBlock(class=classes)
      h1.c-SponsorBlock__Hn= level.name
      ul.o-ListBare.o-GridFlex.o-ListStacked
        each item in spons
          li.o-GridFlex__Item.o-ListStacked__Item
            unless (level === sponsorlevel.bronze) || (level === sponsorlevel.copper)
              a.o-Block.c-SponsorBlock__Logo(class='c-SponsorBlock__Logo--'+level.size href=item.href style='background-image: url(\'' + item.src + '\');')= item.name
            else
              a.o-Block.c-SponsorBlock__Text(href=item.href)= item.name
  +sponsor-block(sponsorlevel.platinum , 'c-SponsorBlock--separate', [sponsor.asce_foundation, sponsor.bentley])
  +sponsor-block(sponsorlevel.corporate, 'c-SponsorBlock--separate', [sponsor.bank_america, sponsor.geico, sponsor.pearl, sponsor.ups, sponsor.keller])
  +sponsor-block(sponsorlevel.silver   , 'c-SponsorBlock--separate', [sponsor.pennoni, sponsor.innovyze])
  +sponsor-block(sponsorlevel.bronze   , 'c-SponsorBlock--separate', [sponsor.fasten, sponsor.david_evans, sponsor.kci, sponsor.mccormick_taylor])
  +sponsor-block(sponsorlevel.copper   , ''                        , [sponsor.rutgers, sponsor.kimley_horn, sponsor.cbb])

mixin minimal-text-block()
  div.o-Runner.o-Runner--highlight.minimal-text: div.o-ContentWrapper
    p.
      Join civil engineering professionals from around the world at
      this ASCE flagship event. Network with peers, earn PDHs, and
      expand your knowledge base.
    p #[a(href="") Lorem ipsum dolor sit amet], consectetur adipiscing elit. Aenean euismod bibendum laoreet. Proin gravida dolor sit amet lacus accumsan et viverra justo commodo. Proin sodales pulvinar tempor. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam fermentum, nulla luctus pharetra vulputate, felis tellus mollis orci, sed rhoncus sapien nunc eget odio.
    ul
      li 3&frac12; days of premier educational and networking events
      li 15 tracks and 6 plenary sessions focusing on ...
      li Prestigious awards and keynote lecture presentations
      li Lively programs for studdnts and young professionals

mixin rich-text-block()
  div.o-Runner.o-Runner--highlight.rich-text: div.o-ContentWrapper
    h2 a heading
    p #[a(href="") Lorem ipsum dolor sit amet], consectetur adipiscing elit. Aenean euismod bibendum laoreet. Proin gravida dolor sit amet lacus accumsan et viverra justo commodo. Proin sodales pulvinar tempor. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam fermentum, nulla luctus pharetra vulputate, felis tellus mollis orci, sed rhoncus sapien nunc eget odio.
    h3 another heading
    blockquote #[a(href="") Aenean euismod bibendum laoreet]. Proin gravida dolor sit amet lacus accumsan et viverra justo commodo. Proin sodales pulvinar tempor. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam fermentum, nulla luctus pharetra vulputate, felis tellus mollis orci.
    ul
      li 3&frac12; days of premier educational and networking events
      li 15 tracks and 6 plenary sessions focusing on ...
      li Prestigious awards and keynote lecture presentations
      li Lively programs for studdnts and young professionals
    h2 a heading
    p Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean euismod bibendum laoreet. Proin gravida dolor sit amet lacus accumsan et viverra justo commodo. Proin sodales pulvinar tempor. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam fermentum, nulla luctus pharetra vulputate, felis tellus mollis orci, sed rhoncus sapien nunc eget odio.
    h3 another heading
    blockquote Aenean euismod bibendum laoreet. Proin gravida dolor sit amet lacus accumsan et viverra justo commodo. Proin sodales pulvinar tempor. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam fermentum, nulla luctus pharetra vulputate, felis tellus mollis orci.
