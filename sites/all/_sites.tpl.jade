doctype html
html(lang="en")
  include /includes/_data.jade
  block vars
  head
    title= page.title()
    block metas
      meta(charset="utf-8")
      meta(name="description" content=page.description())
      meta(name="keywords" content=site.keywords())
      meta(name="viewport" content="width=device-width, initial-scale=1")
      meta(http-equiv="X-UA-Compatible" content="IE=edge")
    block styles
      link(rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic,700,700italic,800,800italic")
      link(rel="stylesheet" href="https://fonts.googleapis.com/css?family=Bitter:400,400italic,700")
      link(rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons")
      link(rel="stylesheet" href="https://cdn.rawgit.com/chharvey/xmeter/v5.2.0/xmeter.css")
      link(rel="stylesheet" href="https://cdn.rawgit.com/chharvey/bangs/v0.9.0/bangs.min.css")
      link(rel="stylesheet" href="/styles/conf.css")
      if site.name()
        //- if this site is an instance of the 'all' template
        link(rel="stylesheet" href="styles/site.css")
      style.
        .minimal-text {
          border: 8px solid rgba(219, 255, 64, 0.64);
        }
        .minimal-text::before {
          content: 'minimal text block (no headings inside)';
          display: block;
          margin-bottom: 1.5rem;
          font-weight: 900;
          text-transform: uppercase;
          color: red;
        }
        .rich-text {
          border: 8px solid rgba(255, 219, 64, 0.64);
        }
        .rich-text::before {
          content: 'rich text block <div> with optional subheadings';
          display: block;
          margin-bottom: 1.5rem;
          font-weight: 900;
          text-transform: uppercase;
          color: red;
        }
        .-h-z { height: 0 !important; }
  body(style=site.colors())
    header.o-Runner.c-Mast.c-Mast--head: div.o-Constrain
      include /_views/c-SiteTitle.view.jade
      +siteTitle(site)
    header.o-Runner.c-Mast.c-Mast--menu: div.o-Constrain
      label.c-Toggle(title="toggle main menu")
        input.c-Toggle__Check(type="checkbox" value="open main menu")
        span.-d-n toggle main menu
        svg.c-Toggle__Viz(xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="36" height="36")
          path(d="M0,0 H24 V24 H0 z" fill="transparent")
          g(transform="translate(3,11)")
            each val in new Array(3)
              rect.c-Toggle__Viz__Bar(width="18" height="2")
        noscript: p Oops! Looks like you need to enable Javascript for the main menu.
      nav.o-Drawer
        h1.-d-n#main-menu Main Menu
        +sitetoc({pages: site.findAll(), classes: {
          listclasses: 'o-List o-Flex c-MenuMobile-nsM c-MenuBar-sM'
        , itemclasses: 'o-List__Item o-Flex__Item c-MenuMobile__Item-nsM c-MenuBar__Item-sM'
        , linkclasses: 'c-MenuMobile__Link-nsM c-MenuBar__Link-sM h-Block'
        , sub: {
            listclasses: 'o-List c-MenuMobile__Sub-nsM c-MenuBar__Sub-sM'
          , itemclasses: 'o-List__Item c-MenuMobile__Sub__Item-nsM c-MenuBar__Sub__Item-sM'
          , linkclasses: 'c-MenuMobile__Link-nsM c-MenuMobile_Sub_Link-nsM c-MenuBar__Link-sM c-MenuBar__Sub__Link-sM h-Block'
          }
        }, depth: 1, icons: true})
    main
      article(itemscope="" itemtype="http://schema.org/Event")
        block mainHeader
          header.o-Runner.o-Runner--pageHeader: div.o-Constrain
            h1.c-PageTitle= page.name()
        block mainBody
          block mainMinimal
          block mainReference
          block mainRich
        block callouts
        block sponsors
          +highlight()
            h1#sponsors Sponsors
            p.-ta-c: i.
              (see external demo of
              #[a(href="http://go.asce.org/static/sponsors/") sponsors carousel]
              by rank)
            +highlightButtons([{text:'All Sponsors', href:'sponsor.html'}])
        block additionalSupporters
          +highlight('c-Banner c-Banner--orgs')
            h1#additional-supporters.-d-n Additional Supporters
            include /_views/c-SupporterBlock.view.jade
            each $supporterLevel,index in site.getSupporterLevelsAll('org')
              +supporterBlock($supporterLevel, site, { 'c-SupporterBlock--separate': index < site.getSupporterLevelsAll('org').length-1 })
    footer.o-Runner.c-Mast.c-Mast--sitemap: nav.o-Constrain
      h1.-d-n#site-map Site Map
      include /_views/c-Sitemap.view.jade
      +sitemap(site.findAll())
      a.c-Btn(href="#top" title="go to top" style={
        'position': 'fixed'
      , 'bottom'  : '1.5rem'
      , 'right'   : '2rem'
      , 'z-index' : 1
      , 'color'   : '#000'
      }): i.material-icons arrow_upward
    footer.o-Runner.c-Mast.c-Mast--foot: div.o-Constrain
      h1.-d-n#connect-with-asce Connect With #[abbr(title="American Society of Civil Engineers") ASCE]
      address(itemscope="" itemtype="http://schema.org/NGO")
        p.c-ASCELogo(itemprop="name"): a(href="http://www.asce.org" itemprop="url").
          American Society of Civil Engineers
        p(itemprop="address" itemscope="" itemtype="http://schema.org/PostalAddress")
          span(itemprop="streetAddress") 1801 Alexander Bell Drive
          br
          span(itemprop="addressLocality") Reston
          = ', '
          span(itemprop="addressRegion") VA
          = ' '
          span(itemprop="postalCode") 22901-4382
        p.-fz-el-kilo(itemprop="contactPoint" itemscope="" itemtype="http://schema.org/ContactPoint")
          a(href="tel:+1-800-548-2723") +1 (800) 548-2723
          meta(content="+1-800-548-2723" itemprop="telephone")
          meta(content="customer support" itemprop="contactType")
        p.-fz-el-kilo(itemprop="contactPoint" itemscope="" itemtype="http://schema.org/ContactPoint")
          a(href="tel:+1-703-295-6300") +1 (703) 295-6300
          meta(content="+1-703-295-6300" itemprop="telephone")
          meta(content="United States of America" itemprop="areaServed")
          meta(content="customer support" itemprop="contactType")
        include /_views/c-SocialList.view.jade
        +socialList({
          twitter : { url: '//twitter.com/ASCE'    , text: 'Follow ASCE on Twitter' }
        , google  : { url: '//plus.google.com/ASCE', text: 'Follow ASCE on Google+' }
        , facebook: { url: '//facebook.com/ASCE'   , text: 'Follow ASCE on Facebook' }
        , linkedin: { url: '//linkedin.com/ASCE'   , text: 'Follow ASCE on LinkedIn' }
        , youtube : { url: '//youtube.com/ASCE'    , text: 'Follow ASCE on YouTube' }
        }, { classes: 'c-SocialList--footer', has_microdata: true })
        p: small
          | &copy; #[time 1996]&ndash;#[time 2016],#{' '}
          span(itemprop="name") American Society of Civil Engineers
    block scripts
      script(src="https://code.jquery.com/jquery-2.2.3.min.js" integrity="sha256-a23g1Nt4dtEYOj7bR+vTu7+T8VP13humZFBJNIYoEJo=" crossorigin="anonymous")
      script(src="/scripts/c-Program.js")
      script.
        $('.c-Toggle__Check').change(function () {
          $(this).parents('.c-Toggle').siblings('.o-Drawer').toggleClass('o-Drawer--open')
        })
      //- script.
        $('.c-Speaker__Body').addClass('-h-z')
        $('.c-Speaker__Img').height(function () { return $(this).width() })
          .click(function () { $(this).siblings('.c-Speaker__Body').removeClass('-h-z') })
        $(window).resize(function () {
          $('.c-Speaker__Img').height(function () { return $(this).width() })
        })
