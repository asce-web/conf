
/*################################*\
    conf  |  _c-Btn.less
\*################################*/
@import (reference) url('../node_modules/xmeter/src/__tool.fallback.filter.less');
@import (reference) url('../node_modules/xmeter/src/__tool.fallback.transition.less');
@import (reference) url('__settings.less');
@import (reference) url('__tool.module.menubar.less');


// Table of Contents
// # ALL BUTTON STYLES (.c-Btn)
// # BUTTON COLOR STYLES
// # BUTTON STRUCTURE STYLES


// Buttons.
//
// ^subclasses
// --dark        - normal button but dark
// --primary     - site primary color
// --primary     - site secondary color
// --ghost       - ghost button (border and text only)
//   --ghost--dark - like ghost but dark
// --flat        - button element to look like a regular link
// --hilite      - singular button in highlight block
// --inline      - buttons in line with text
// --drawer      - structural styles for menu buttons in site masthead
// ^enhancement classes
// : subclasses used only in the styleguide (not on the conference sites)
// : ._hover  - indicates hover/focus state
// : ._active - indicates active/pressed state
// ^author
// Chris Harvey
// ^updated
// 2016-06-27
.c-Btn {
  // all button styles
  display: inline-block;
  vertical-align: middle;
  padding: @g-boxpadd_mill;
  margin-top: 0; // FIXME override negative margin-top from xmeter
  font-weight: 700;
  border-radius: 0.25rem;
  cursor: pointer;
  .transitions(color, background-color, border-color, filter; 250ms);
  a&:not([href]),
  button&:disabled {
    opacity: 0.75; // override xmeter
    cursor: not-allowed;
  }
  // resets
  &,
  &:hover,
  &:focus,
  &:active,
  &._hover,
  &._active {
    .filter();
  }
}


//++++++++++++++++++++++++++++++++//
//    # BUTTON COLOR STYLES
//++++++++++++++++++++++++++++++++//
.c-Btn {
  // generic button color styles
  background-color: lighten(@g-color_site_gray_lt, 25%, relative);
  &,
  &:hover,
  &:focus,
  &:active,
  &._hover,
  &._active {
    color: #000;
  }
  &:hover,
  &:focus,
  &._hover {
    background-color: @g-color_site_gray_lt;
  }
  &:active,
  &._active {
    background-color: darken(@g-color_site_gray_lt, 25%, relative);
  }
  a&:not([href]),
  button&:disabled {
    &,
    &:hover,
    &:focus,
    &:active {
      background-color: #eee;
      color: #bbb;
    }
  }
}

.c-Btn--dark {
  background-color: darken(@g-color_site_gray_dk, 25%, relative);
  &,
  &:hover,
  &:focus,
  &:active,
  &._hover,
  &._active {
    color: #fff;
  }
  &:hover,
  &:focus,
  &._hover {
    background-color: @g-color_site_gray_dk;
  }
  &:active,
  &._active {
    background-color: lighten(@g-color_site_gray_dk, 25%, relative);
  }
}

.c-Btn--primary,
.c-Btn--secondary {
  &,
  &:hover,
  &:focus,
  &:active,
  &._hover,
  &._active {
    color: @g-color_asce_white;
  }
}

.c-Btn--primary {
  background-color: @g-color_site_primary;
  &:hover,
  &:focus,
  &._hover {
    background-color: darken(@g-color_site_primary, 25%, relative);
  }
  &:active,
  &._active {
    background-color: darken(@g-color_site_primary, 50%, relative);
  }
}

.c-Btn--secondary {
  background-color: @g-color_site_secondary;
  &:hover,
  &:focus,
  &._hover {
    background-color: lighten(@g-color_site_secondary, 25%, relative);
  }
  &:active,
  &._active {
    background-color: lighten(@g-color_site_secondary, 50%, relative);
  }
}

.c-Btn--ghost {
  &:hover,
  &:focus,
  &._hover {
    color: @g-color_asce_white;
    border-color: transparent;
    background-color: @g-color_site_gray_dk;
  }
  &,
  &:active,
  &._active {
    color: inherit;
    border: 2px solid currentColor;
    background-color: transparent;
  }
}

.c-Btn--ghost--dark {
  &:hover,
  &:focus,
  &._hover {
    &:not(:active) { // HACK because :hover will override :active
      color: @g-color_site_gray_dk;
      background-color: @g-color_asce_white;
    }
  }
}

.c-Btn--flat {
  .menubar();
  font-size: (14em/16); // same as Mast
  letter-spacing: 1px;
  &,
  &:hover,
  &:focus,
  &:active,
  &._hover,
  &._active {
    color: @g-color_site_secondary; // same as link
    background-color: transparent;
  }
  &:hover,
  &:focus,
  &._hover {
    color: @g-color_site_gray_lt; // same as link
  }
  &:active,
  &._active {
    color: @g-color_site_gray_dk;
  }
}
//++++ end # BUTTON COLOR STYLES ++++//


//++++++++++++++++++++++++++++++++//
//    # BUTTON STRUCTURE STYLES
//++++++++++++++++++++++++++++++++//
.c-Btn--hilite {
  padding: @g-boxpadd_mill_v @g-boxpadd_kilo_h;
  border-radius: 0.5rem;
  font-size: 1.5em;
}

.c-Btn--inline {
  display: inline;
  padding: 0 @g-boxpadd_micr_h;
  font-size: 0.75em;
  line-height: 0;
  white-space: nowrap;
  border-radius: 0.25em;
}

.c-Btn--drawer {
  @media screen and (min-width: 45em) {
    display: none;
  }
  padding: @g-boxpadd_micr;
  margin: @g-boxpadd_mill;
  border: 0; // override `button`
  color: inherit; // override `.c-Btn` // in dark mast
}

.c-Btn--drawer--close {
  position: absolute;
  top: 0; right: 0;
  z-index: 2; // over `.SiteHead__Nav`
}
//++++ end # BUTTON STRUCTURE STYLES ++++//
