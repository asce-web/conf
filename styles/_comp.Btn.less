
/*################################*\
    conf  |  _comp.Btn.less
\*################################*/
@import (reference) url('../node_modules/xmeter/src/__tool.fallback.filter.less');
@import (reference) url('../node_modules/xmeter/src/__tool.fallback.transition.less');
@import (reference) url('__settings.less');
@import (reference) url('__tool.module.menubar.less');
// TODO remove on xmeter v4.2.0
.transition-duration(@dura: 0ms) {
  -webkit-transition-duration: @dura;
     -moz-transition-duration: @dura;
      -ms-transition-duration: @dura;
       -o-transition-duration: @dura;
          transition-duration: @dura;
}


// mixin for accent-colored buttons.
// used on hero (primary color) and dominant (secondary color)
.p-accentcolor {
  &,
  &:hover,
  &:focus,
  &:active,
  &._hover,
  &._active {
    color: @g-color_asce_white;
  }
  &:active,
  &._active {
    background-color: @g-color_site_gray_dk;
  }
}

// A mixin for link-like buttons.
// used on ghost buttons and flat buttons.
.p-linklike() {
  &,
  &:hover,
  &:focus,
  &:active,
  &._hover,
  &._active {
    background: none;
  }
  &:hover,
  &:focus,
  &._hover {
    color: @g-color_site_gray_lt; // same as normal link
  }
  &:active,
  &._active {
    color: inherit; // same as normal link
  }
}

// Buttons.
//
// ^subclasses
// --hilite   - singular button in highlight block
// --inline   - buttons inline with text
// --hero     - for action button(s) in hero section
// --dominant - button for some other primary use
// --ghost    - ghost button (border and text only)
// --flat     - button element to look like a regular link
// --drawer   - structural styles for menu buttons in site masthead
// ^enhancement classes
// : subclasses used only in the styleguide (not on the conference sites)
// : ._hover  - indicates hover/focus state
// : ._active - indicates active/pressed state
// ^author
// Chris Harvey
// ^updated
// 2016-05-13
.c-Btn {
  // all button styles
  display: inline-block;
  vertical-align: middle;
  padding: @g-boxpadd_mill;
  margin: 0; // override margin-top from xmeter
  font-weight: 700;
  border: 1px solid;
  cursor: pointer;
  .transition-duration(250ms);
  a&:not([href]),
  button&:disabled {
    opacity: 0.75; // override xmeter
    cursor: not-allowed;
  }
  &:not(.c-Btn--flat) {
    &,
    &:hover,
    &:focus,
    &:active,
    &._hover,
    &._active {
      .filter(none);
    }
  }
}
.c-Btn {
  // generic button color styles
  color: @g-color_site_secondary;
  &:hover,
  &:focus,
  &:active,
  &._hover,
  &._active {
    color: @g-color_site_gray_dk;
    background-color: @g-color_site_gray_lt;
  }
  &,
  &:active,
  &._active {
    background-color: @g-color_asce_white;
  }
  a&:not([href]),
  button&:disabled {
    &,
    &:hover,
    &:focus,
    &:active {
      background-color: #eee;
      color: #bbb;
    }
  }
}

.c-Btn--hilite {
  padding: @g-boxpadd_mill_v @g-boxpadd_kilo_h;
  border-width: 2px;
  font-size: 1.5em;
}

.c-Btn--inline {
  display: inline;
  padding: 0 @g-boxpadd_micr_h;
  font-size: 0.75em;
  line-height: 0;
  border-radius: 0.25em;
}

.c-Btn--hero {
  border: 0;
  background-color: @g-color_site_primary;
  .p-accentcolor();
}

.c-Btn--dominant {
  font-style: italic;
  background-color: @g-color_site_secondary;
  .p-accentcolor();
}

.c-Btn--ghost {
  border-width: 2px;
  .p-linklike();
}

.c-Btn--flat {
  .menubar();
  font-size: (14em/16); // same as Mast
  border: 0;
  .p-linklike();
}

.c-Btn--drawer {
  padding: @g-boxpadd_micr;
  margin: @g-boxpadd_mill;
  color: inherit; // override `.c-Btn`
}

.c-Btn--drawer--close {
  position: absolute;
  top: 0; right: 0;
  z-index: 2; // over MenuUniversal
}
