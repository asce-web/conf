
/*################################*\
    conf  |  _dev.less
\*################################*/

// DEV STYLESHEET. FOR FIXING IMPORTED PROJECTS.


// TODO xmeter v5.2+
///////////////////////////////////////////////////////////////////////////////
// THE FOLLOWING CODE IS COPIED FROM FEATURE   BRANCH `xmeter:origin/feat-vruvar` ON XMETER.
// REMOVE IT WHEN XMETER v5.2+ IS RELEASED AND INSTALLED
///////////////////////////////////////////////////////////////////////////////
.font-size-mod(@ratio: 1) {
  @l-vru: @ratio * @g-vru; // in rems // CHANGED DEPRECATED! will be dropped in favor of CSS Custom Properties
  font-size: (@ratio * @g-1rem); // legacy browsers (see __settings for more info)
  font-size: (@ratio *    1rem);
  // line-height: inherit; // NOTE clarification
  & > * {
    --vru: calc(~'var(--line-height) * ' @ratio*1rem);
  }
  .vertspacing(@l-vru); // CHANGED DEPRECATED! will be dropped in favor of CSS Custom Properties
}
.font-size-el(@ratio: 1; @lines: 1; @line_height_parent: @g-line_height) {
  font-size: (@ratio * 1em);
  line-height: (@g-line_height / (@ratio/@lines)); // HACK fallback
  line-height: calc(~'var(--line-height) / ' (@ratio/@lines));
}
.vertspacing(@spacing: @g-vru) {
  h1, h2, h3, h4, h5, h6,
  p, pre, figure, blockquote,
  ol, ul, dl,
  table,
  fieldset {
    margin-bottom: @spacing; // HACK fallback
    margin-bottom: var(--vru);
  }
  h1 {
    padding-top: @spacing; // HACK fallback
    padding-top: var(--vru);
  }
}
.-mb-1vru {
  margin-bottom: @g-vru; // HACK fallback
  margin-bottom: var(--vru);
}
.-pt-1vru {
  padding-top: @g-vru; // HACK fallback
  padding-top: var(--vru);
}
html {
  --line-height: @g-line_height;
  --vru: calc(~'var(--line-height) * 1rem');
  // addresses support for `rem` units (otherwise these would be in `body` selector)
  font-size: 100%; // defined by user agent
  font-size: @g-1rem; // HACK fixes Chrome inheritance bug
  line-height: @g-line_height; // HACK fallback
  line-height: var(--line-height);
}
