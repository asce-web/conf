
/*################################*\
    conf  |  _o-SiteHead.less
\*################################*/
@import (reference) url('../node_modules/xmeter/src/__tool.fallback.flexbox.less');
@import (reference) url('../node_modules/xmeter/src/__tool.fallback.transform.less');
@import (reference) url('../node_modules/xmeter/src/__tool.fallback.transform-origin.less');
@import (reference) url('../node_modules/xmeter/src/__tool.fallback.transition.less');
@import (reference) url('__settings.less');
@import (reference) url('_dev.less');


// Object in the top-most Masthead containing site title and navigation menu
//
// ^subcomponents
// __Title - area for title of site
// __Nav - pull-out navigation menu drawer
// ^author
// Chris Harvey
// ^updated
// 2016-06-29
.o-SiteHead {
  .flex-wrap(nowrap); // override `.o-GridFlex wrap`
  .flex-justify-content(space-between);
  .flex-align-items(center); // override `stretch` // for vertical alignment
}

.o-SiteHead__Title,
.o-SiteHead__Nav {
  width: 50%;
  white-space: nowrap;
}

.o-SiteHead__Title {
}

@trans_dura: 500ms;
.o-SiteHead__Nav {
  .transitions(@g-prefix_transform, opacity; @trans_dura);
  .transition-timing-function(@google-accel);
  // .transition-timing-function(@g-accel_hard);
  // .transition-timing-function(@g-accel_dram);
  // .transition-timing-function(@g-decel_extm);
  @media screen and (max-width: 44.999em) {
    @width: 12rem;
    position: fixed;
    right: -@width; top: 0;
    z-index: 2; // over hero and sub menus
    width: @width;
    height: 100%;
    background-color: @g-color_site_gray_lt;
    border-left: 1px solid currentColor;
    opacity: 0;
  }
}

input#toggle-top-menu {
  display: none;
  & ~ label {
    position: relative;
    top: 0; right: 0;
    cursor: pointer;
    .transitions(top, right, bottom, left; @trans_dura);
    @media screen and (min-width: 45em) {
      display: none;
    }
    .icon {
      display: block;
      position: relative;
      z-index: 3; // over `.SiteHead__Nav`
      @width: 40px;
      width:  @width;
      height: @width;
      margin: @g-boxpadd_mill;
      & > span {
        @thick: 4px;
        display: block;
        position: absolute;
        top: (@width/2 - @thick/2);
        left: (2 * @thick); right: (2 * @thick);
        height: @thick;
        background-color: currentColor;
        .transitions(@g-prefix_transform, background-color; @trans_dura);
      }
      & > .o1 { .transform(translateY(-@width/5px)); }
      & > .o2 { .transform(translateY(0px)); }
      & > .o3 { .transform(translateY(@width/5px)); }
      &:hover > span {
        background-color: @g-color_site_gray_lt;
      }
    }
  }
  &:checked {
    & ~ label {
      top:   -1rem;
      right: -1rem;
      .icon {
        & > .o1 { .transform(rotate(45deg)); }
        & > .o2 { .transform(scaleX(0.001)); }
        & > .o3 { .transform(rotate(-45deg)); }
        &:hover > span {
          background-color: @g-color_site_gray_dk;
        }
      }
    }
    & ~ .o-SiteHead__Nav {
      @media screen and (max-width: 44.999em) {
        .transform(translateX(-100%));
        opacity: 1;
        .transition-timing-function(@google-decel);
        // .transition-timing-function(@g-decel_hard);
        // .transition-timing-function(@g-decel_dram);
        // .transition-timing-function(@g-accel_extm);
      }
    }
  }
}

.o-SiteHead__Nav--open {
}
